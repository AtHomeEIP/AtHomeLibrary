\hypertarget{classathome_1_1sensor_1_1_analog_sensor}{}\section{athome\+:\+:sensor\+:\+:Analog\+Sensor Class Reference}
\label{classathome_1_1sensor_1_1_analog_sensor}\index{athome\+::sensor\+::\+Analog\+Sensor@{athome\+::sensor\+::\+Analog\+Sensor}}


{\ttfamily \#include $<$Analog\+Sensor.\+hpp$>$}

Inheritance diagram for athome\+:\+:sensor\+:\+:Analog\+Sensor\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classathome_1_1sensor_1_1_analog_sensor}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classathome_1_1sensor_1_1_analog_sensor_acd973b3cf9be02ca318eea594e8732d3}{Analog\+Sensor}} (uint8\+\_\+t pin)
\item 
\mbox{\Hypertarget{classathome_1_1sensor_1_1_analog_sensor_a11abebcdb62ccd8fb7f10e4d1cc91516}\label{classathome_1_1sensor_1_1_analog_sensor_a11abebcdb62ccd8fb7f10e4d1cc91516}} 
{\bfseries Analog\+Sensor} (const \mbox{\hyperlink{classathome_1_1sensor_1_1_analog_sensor}{Analog\+Sensor}} \&)=delete
\item 
\mbox{\Hypertarget{classathome_1_1sensor_1_1_analog_sensor_a3e2cb67bd8eb58798d28eaf152f33b1a}\label{classathome_1_1sensor_1_1_analog_sensor_a3e2cb67bd8eb58798d28eaf152f33b1a}} 
\mbox{\hyperlink{classathome_1_1sensor_1_1_analog_sensor}{Analog\+Sensor}} \& {\bfseries operator=} (const \mbox{\hyperlink{classathome_1_1sensor_1_1_analog_sensor}{Analog\+Sensor}} \&)=delete
\item 
const I\+Sensor\+Value \& \mbox{\hyperlink{classathome_1_1sensor_1_1_analog_sensor_a7ad00f985a9d1abeb64f973b5d16558c}{get\+Sample}} ()
\item 
void \mbox{\hyperlink{classathome_1_1sensor_1_1_analog_sensor_addcdb79aa03b7b6e386bc9c59faced10}{set\+Thresholds}} (const \mbox{\hyperlink{structathome_1_1sensor_1_1_i_sensor_1_1_i_sensor_thresholds}{I\+Sensor\+Thresholds}} \&)
\item 
uint8\+\_\+t \mbox{\hyperlink{classathome_1_1sensor_1_1_analog_sensor_ac4eab6ad6117e8e6689f9e1d9fb05015}{get\+Analogue\+Pin}} ()
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classathome_1_1sensor_1_1_analog_sensor_a06c196fae2f37af456406430651653a9}\label{classathome_1_1sensor_1_1_analog_sensor_a06c196fae2f37af456406430651653a9}} 
uint8\+\_\+t {\bfseries \+\_\+analog\+\_\+pin}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Base class derived from \mbox{\hyperlink{classathome_1_1sensor_1_1_i_sensor}{athome\+::sensor\+::\+I\+Sensor}} allowing to use an analog sensor.

Warning\+: This class is only able to sample an analog sensor, not to interpret its value.

Thus, {\ttfamily get\+Estimate} method will always return athome\+::sensor\+::\+I\+Sensor\+::\+I\+Sensor\+Scale\+::\+Z\+E\+RO if this method is not overriden by a specialized class. 

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classathome_1_1sensor_1_1_analog_sensor_acd973b3cf9be02ca318eea594e8732d3}\label{classathome_1_1sensor_1_1_analog_sensor_acd973b3cf9be02ca318eea594e8732d3}} 
\index{athome\+::sensor\+::\+Analog\+Sensor@{athome\+::sensor\+::\+Analog\+Sensor}!Analog\+Sensor@{Analog\+Sensor}}
\index{Analog\+Sensor@{Analog\+Sensor}!athome\+::sensor\+::\+Analog\+Sensor@{athome\+::sensor\+::\+Analog\+Sensor}}
\subsubsection{\texorpdfstring{Analog\+Sensor()}{AnalogSensor()}}
{\footnotesize\ttfamily athome\+::sensor\+::\+Analog\+Sensor\+::\+Analog\+Sensor (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{pin }\end{DoxyParamCaption})}

Create an instance of \mbox{\hyperlink{classathome_1_1sensor_1_1_analog_sensor}{Analog\+Sensor}}, needing the analog pin used to sample the sensor. 

\subsection{Member Function Documentation}
\mbox{\Hypertarget{classathome_1_1sensor_1_1_analog_sensor_ac4eab6ad6117e8e6689f9e1d9fb05015}\label{classathome_1_1sensor_1_1_analog_sensor_ac4eab6ad6117e8e6689f9e1d9fb05015}} 
\index{athome\+::sensor\+::\+Analog\+Sensor@{athome\+::sensor\+::\+Analog\+Sensor}!get\+Analogue\+Pin@{get\+Analogue\+Pin}}
\index{get\+Analogue\+Pin@{get\+Analogue\+Pin}!athome\+::sensor\+::\+Analog\+Sensor@{athome\+::sensor\+::\+Analog\+Sensor}}
\subsubsection{\texorpdfstring{get\+Analogue\+Pin()}{getAnaloguePin()}}
{\footnotesize\ttfamily uint8\+\_\+t athome\+::sensor\+::\+Analog\+Sensor\+::get\+Analogue\+Pin (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Return the value of the pin used to sample the sensor. \mbox{\Hypertarget{classathome_1_1sensor_1_1_analog_sensor_a7ad00f985a9d1abeb64f973b5d16558c}\label{classathome_1_1sensor_1_1_analog_sensor_a7ad00f985a9d1abeb64f973b5d16558c}} 
\index{athome\+::sensor\+::\+Analog\+Sensor@{athome\+::sensor\+::\+Analog\+Sensor}!get\+Sample@{get\+Sample}}
\index{get\+Sample@{get\+Sample}!athome\+::sensor\+::\+Analog\+Sensor@{athome\+::sensor\+::\+Analog\+Sensor}}
\subsubsection{\texorpdfstring{get\+Sample()}{getSample()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{structathome_1_1sensor_1_1_i_sensor_1_1_i_sensor_value}{I\+Sensor\+::\+I\+Sensor\+Value}} \& athome\+::sensor\+::\+Analog\+Sensor\+::get\+Sample (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Return a pointer on a {\ttfamily uint16\+\_\+t} variable, so the memory area returned by the pointer is 2 bytes long or equivalent to an array of 2 {\ttfamily uint8\+\_\+t}.

Examples of use\+:


\begin{DoxyCode}
\textcolor{keywordtype}{void} my\_func\_reading\_my\_sensor(ISensor &my\_sensor) \{
  uint8\_t *pointer = my\_sensor.getSample();
  \textcolor{keywordflow}{if} (pointer == \textcolor{keyword}{nullptr}) \{
    \textcolor{comment}{// Invalid pointer -> might be caused by a sample error from the sensor.}
    \textcolor{comment}{// Can't happen with base AnalogSensor class but could happen from other athome::sensor::ISensor
       derived classes, so it's good practice to always check returned pointer.}
    \textcolor{keywordflow}{return};
  \}
  \textcolor{comment}{// Can access value from casting pointer to its original uint16\_t type:}
  uint16\_t *full\_pointer = \textcolor{keyword}{reinterpret\_cast<}uint16\_t *\textcolor{keyword}{>}(pointer);
  \textcolor{comment}{// Or by casting it in C-style:}
  uint16\_t *c\_pointer = (uint16\_t *)pointer;
  \textcolor{comment}{// Or by accessing it as an array of 2 bytes:}
  uint16\_t value = ((pointer[0]) << 8) | pointer[1];

  printf(\textcolor{stringliteral}{"%hu\(\backslash\)n"}, *full\_pointer); \textcolor{comment}{// Or Serial.println(*full\_pointer) for example on Arduino}
  printf(\textcolor{stringliteral}{"%hu\(\backslash\)n"}, *c\_pointer); \textcolor{comment}{// Or Serial.println(*c\_pointer) for example on Arduino}
  printf(\textcolor{stringliteral}{"%hu\(\backslash\)n"}, value); \textcolor{comment}{// Or Serial.println(value) for example on Arduino}
\}
\end{DoxyCode}
 

Implements \mbox{\hyperlink{classathome_1_1sensor_1_1_i_sensor_ae109cd3741ea9c88dc7e4f2eaf1485d5}{athome\+::sensor\+::\+I\+Sensor}}.

\mbox{\Hypertarget{classathome_1_1sensor_1_1_analog_sensor_addcdb79aa03b7b6e386bc9c59faced10}\label{classathome_1_1sensor_1_1_analog_sensor_addcdb79aa03b7b6e386bc9c59faced10}} 
\index{athome\+::sensor\+::\+Analog\+Sensor@{athome\+::sensor\+::\+Analog\+Sensor}!set\+Thresholds@{set\+Thresholds}}
\index{set\+Thresholds@{set\+Thresholds}!athome\+::sensor\+::\+Analog\+Sensor@{athome\+::sensor\+::\+Analog\+Sensor}}
\subsubsection{\texorpdfstring{set\+Thresholds()}{setThresholds()}}
{\footnotesize\ttfamily void athome\+::sensor\+::\+Analog\+Sensor\+::set\+Thresholds (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structathome_1_1sensor_1_1_i_sensor_1_1_i_sensor_thresholds}{I\+Sensor\+Thresholds}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Returns the estimation of safety from the current sensor value

Example\+:


\begin{DoxyCode}
\textcolor{keywordtype}{void} my\_function\_telling\_if\_a\_sensor\_value\_is\_good\_or\_not(ISensor &my\_sensor) \{
  \mbox{\hyperlink{classathome_1_1sensor_1_1_i_sensor_aa70bc27a4c17c86caf96cca776541ddf}{ISensorScale}} sensor\_estimate = my\_sensor.getEstimate();
  \textcolor{keywordflow}{if} (sensor\_estimate == ISensor::ZERO) \{
    Serial.println(\textcolor{stringliteral}{"The sensor returned an invalid value"});
  \}
  \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (sensor\_estimate > ISensor::ZERO && sensor\_estimate < 6) \{
    Serial.println(\textcolor{stringliteral}{"Boouh, it's not good :("});
  \}
  \textcolor{keywordflow}{else} \{
    Serial.println(\textcolor{stringliteral}{"Yaaaay!"});
  \}
\}
\end{DoxyCode}
 

Implements \mbox{\hyperlink{classathome_1_1sensor_1_1_i_sensor_af86df8538fecfcfc670b4adfbbde6abb}{athome\+::sensor\+::\+I\+Sensor}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/Analog\+Sensor.\+hpp\item 
src/sensor/Analog\+Sensor.\+cpp\end{DoxyCompactItemize}
