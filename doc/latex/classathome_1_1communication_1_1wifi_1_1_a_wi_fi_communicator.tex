\hypertarget{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator}{}\section{athome\+:\+:communication\+:\+:wifi\+:\+:A\+Wi\+Fi\+Communicator Class Reference}
\label{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator}\index{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator@{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator}}


{\ttfamily \#include $<$A\+Wi\+Fi\+Communicator.\+hpp$>$}

Inheritance diagram for athome\+:\+:communication\+:\+:wifi\+:\+:A\+Wi\+Fi\+Communicator\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.871795cm]{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a0098148fe8d0eeee99b7f8f72a72a900}{A\+Wi\+Fi\+Communicator}} (const \mbox{\hyperlink{structathome_1_1communication_1_1wifi_1_1s__wifi__access__point}{Wi\+Fi\+\_\+ap}} $\ast$=nullptr, const \mbox{\hyperlink{structathome_1_1communication_1_1wifi_1_1s__wifi__client}{Wi\+Fi\+\_\+client}} $\ast$=nullptr, const wifi\+\_\+mode=S\+T\+A\+T\+I\+ON, Stream $\ast$=nullptr)
\item 
\mbox{\Hypertarget{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a5d9a73879f80042bf3c0da09ff32f0b5}\label{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a5d9a73879f80042bf3c0da09ff32f0b5}} 
{\bfseries A\+Wi\+Fi\+Communicator} (const \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator}{A\+Wi\+Fi\+Communicator}} \&)=delete
\item 
\mbox{\Hypertarget{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_afc2748d9230575335d3cfd7936ff26ee}\label{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_afc2748d9230575335d3cfd7936ff26ee}} 
\mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator}{A\+Wi\+Fi\+Communicator}} \& {\bfseries operator=} (const \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator}{A\+Wi\+Fi\+Communicator}} \&)=delete
\item 
virtual int \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a309927109fbc19aa0fb2afb71d50bbf9}{connect}} ()=0
\item 
virtual int \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a6131240ac0daa0f9fb4d46871feea4c2}{disconnect}} ()=0
\item 
virtual bool \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a578087d01c814481d89ea702a6d7ed01}{is\+Connected}} () const =0
\item 
const \mbox{\hyperlink{structathome_1_1communication_1_1wifi_1_1s__wifi__access__point}{Wi\+Fi\+\_\+ap}} \& \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_abef86486512e4a39d61df3b27effcc87}{get\+Access\+Point}} () const
\item 
const \mbox{\hyperlink{structathome_1_1communication_1_1wifi_1_1s__wifi__client}{Wi\+Fi\+\_\+client}} \& \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_afcc41f462a12c8348148c915dcafd1a0}{get\+Connection\+Addresses}} () const
\item 
wifi\+\_\+mode \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_adebc335ea6408a90919f396f06260b13}{get\+Wi\+Fi\+Mode}} () const
\item 
void \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a2b802d934022436e029fc31b3e84d321}{set\+Access\+Point}} (const \mbox{\hyperlink{structathome_1_1communication_1_1wifi_1_1s__wifi__access__point}{Wi\+Fi\+\_\+ap}} \&)
\item 
void \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a31fb91672f298718d99bb9776dfe46c9}{set\+Connection\+Addresses}} (const \mbox{\hyperlink{structathome_1_1communication_1_1wifi_1_1s__wifi__client}{Wi\+Fi\+\_\+client}} \&)
\item 
void \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a28538cf510da8b59056b2533a6e53bcc}{set\+Wi\+Fi\+Mode}} (wifi\+\_\+mode)
\item 
void \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a42f2ad88713db57bd9e9670f090924de}{set\+Stream\+To\+Chipset}} (Stream $\ast$)
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a857f4193bdf63fcfdddeaf43f945ed50}\label{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a857f4193bdf63fcfdddeaf43f945ed50}} 
wifi\+\_\+mode {\bfseries \+\_\+mode}
\item 
\mbox{\Hypertarget{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a07a54c2f10295708f14d6a9069612f48}\label{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a07a54c2f10295708f14d6a9069612f48}} 
Stream $\ast$ {\bfseries \+\_\+stream}
\item 
\mbox{\Hypertarget{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a4d1d5dae7e80603205321585a8861bb8}\label{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a4d1d5dae7e80603205321585a8861bb8}} 
\mbox{\hyperlink{structathome_1_1communication_1_1wifi_1_1s__wifi__access__point}{Wi\+Fi\+\_\+ap}} {\bfseries \+\_\+ap}
\item 
\mbox{\Hypertarget{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_af249e6e9eff32fed22de39a5b7c62b49}\label{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_af249e6e9eff32fed22de39a5b7c62b49}} 
\mbox{\hyperlink{structathome_1_1communication_1_1wifi_1_1s__wifi__client}{Wi\+Fi\+\_\+client}} {\bfseries \+\_\+me}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Abstract class derived from Stream, declaring some new Wi\+Fi common interface methods, and implementing some utility methods for these {\ttfamily Stream}s

Here\textquotesingle{}s a simple example of implementing a U\+A\+RT to Wi\+Fi chipset pre-\/configured to connect a Wi\+Fi network and transparently bridge the serial connection always connected to Serial Stream\+:


\begin{DoxyCode}
\textcolor{preprocessor}{#include <AWiFiCommunicator.hpp>}

\textcolor{keyword}{using} \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator}{athome::communication::wifi::AWiFiCommunicator}};

\textcolor{keyword}{class }MyUARTBridge : \textcolor{keyword}{public} \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a0098148fe8d0eeee99b7f8f72a72a900}{AWiFiCommunicator}} \{
  \textcolor{keyword}{public}:
    MyUARTBridge():\mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a0098148fe8d0eeee99b7f8f72a72a900}{AWiFiCommunicator}}() \{
      \_stream = &Serial;
    \}
    ~MyUARTBridge() \{\}

    \textcolor{keywordtype}{int} \mbox{\hyperlink{classathome_1_1communication_1_1_a_network_communicator_a2bf367d03c98e8523fda71dd43ffa2fb}{available}}() \{ \textcolor{keywordflow}{return} \_stream->available(); \}
    \textcolor{keywordtype}{int} \mbox{\hyperlink{classathome_1_1communication_1_1_a_network_communicator_a88d3c4366daf48865ab48b22eb62d610}{read}}() \{ \textcolor{keywordflow}{return} \_stream->return(); \}
    \textcolor{keywordtype}{int} \mbox{\hyperlink{classathome_1_1communication_1_1_a_network_communicator_ad06ecdc94aa77b1bab934b85bed2ac7d}{peek}}() \{ \textcolor{keywordflow}{return} \_stream->peek(); \}
    \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{classathome_1_1communication_1_1_a_network_communicator_a87adf68359a4ec5b0a38bea529ebf732}{write}}(uint8\_t data) \{ \textcolor{keywordflow}{return} \_stream->write(data); \}
    \textcolor{keywordtype}{int} \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a309927109fbc19aa0fb2afb71d50bbf9}{connect}}() \{ \textcolor{keywordflow}{return} 0; \}
    \textcolor{keywordtype}{int} \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a6131240ac0daa0f9fb4d46871feea4c2}{disconnect}}() \{ \textcolor{keywordflow}{return} 0; \}
    \textcolor{keywordtype}{int} \mbox{\hyperlink{classathome_1_1communication_1_1_a_network_communicator_a370176dae8f38225446e83a132dbcff7}{connectToHost}}() \{ \textcolor{keywordflow}{return} 0; \}
    \textcolor{keywordtype}{int} \mbox{\hyperlink{classathome_1_1communication_1_1_a_network_communicator_a025b7fbe9b3c4452fcf1925d766324eb}{disconnectFromHost}}() \{ \textcolor{keywordflow}{return} 0; \}
    \textcolor{keywordtype}{bool} \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a578087d01c814481d89ea702a6d7ed01}{isConnected}}() \{ \textcolor{keywordflow}{return} \textcolor{keyword}{true}; \}
\}
\end{DoxyCode}
 

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a0098148fe8d0eeee99b7f8f72a72a900}\label{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a0098148fe8d0eeee99b7f8f72a72a900}} 
\index{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator@{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator}!A\+Wi\+Fi\+Communicator@{A\+Wi\+Fi\+Communicator}}
\index{A\+Wi\+Fi\+Communicator@{A\+Wi\+Fi\+Communicator}!athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator@{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator}}
\subsubsection{\texorpdfstring{A\+Wi\+Fi\+Communicator()}{AWiFiCommunicator()}}
{\footnotesize\ttfamily athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator\+::\+A\+Wi\+Fi\+Communicator (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structathome_1_1communication_1_1wifi_1_1s__wifi__access__point}{Wi\+Fi\+\_\+ap}} $\ast$}]{ap = {\ttfamily nullptr},  }\item[{const \mbox{\hyperlink{structathome_1_1communication_1_1wifi_1_1s__wifi__client}{Wi\+Fi\+\_\+client}} $\ast$}]{client = {\ttfamily nullptr},  }\item[{const wifi\+\_\+mode}]{mode = {\ttfamily STATION},  }\item[{Stream $\ast$}]{stream = {\ttfamily nullptr} }\end{DoxyParamCaption})}

Base constructor taking optional parameters to initialize instance attributes. 

\subsection{Member Function Documentation}
\mbox{\Hypertarget{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a309927109fbc19aa0fb2afb71d50bbf9}\label{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a309927109fbc19aa0fb2afb71d50bbf9}} 
\index{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator@{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator}!connect@{connect}}
\index{connect@{connect}!athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator@{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator}}
\subsubsection{\texorpdfstring{connect()}{connect()}}
{\footnotesize\ttfamily virtual int athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator\+::connect (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}

Virtual method used to implement connection to Wi\+Fi network through the adapter.

A return value of 0 is expected to indicate the connection was successful, otherwise all other values are available for error codes.

Example\+:


\begin{DoxyCode}
\textcolor{preprocessor}{#include <string.h>}
\textcolor{preprocessor}{#include <AtHome.h>}

\textcolor{keyword}{using} \mbox{\hyperlink{structathome_1_1communication_1_1wifi_1_1s__wifi__access__point}{athome::communication::wifi::WiFi\_ap}}; \textcolor{comment}{// Use this to not have to
       write the full namespace names further}
\textcolor{keyword}{using} \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator}{athome::communication::wifi::AWiFiCommunicator}};

\textcolor{keywordtype}{void} my\_function\_connecting\_wifi\_to\_network\_called\_foobar(\mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a0098148fe8d0eeee99b7f8f72a72a900}{AWiFiCommunicator}} &wifi) \{
  WiFi\_ap network; \textcolor{comment}{// Declare a WiFi\_ap structure}
  strncpy(network.ssid, \textcolor{stringliteral}{"foobar"}, \textcolor{keyword}{sizeof}(network.ssid)); \textcolor{comment}{// Copy "foobar" in the ssid field of the
       structure, as the SSID of a WiFi network is the name shown to humans}
  strncpy(network.password, \textcolor{stringliteral}{"12345678"}, \textcolor{keyword}{sizeof}(network.password)); \textcolor{comment}{// Copy "12345678" in the password
       field, to set the password used by the WiFi network}
  wifi.setAccessPoint(network); \textcolor{comment}{// Set the WiFi network parameters we created}
  \textcolor{keywordflow}{if} (!wifi.connect()) \{ \textcolor{comment}{// Connect to this network}
    Serial.println(\textcolor{stringliteral}{"Successfully connected to WiFi network"});
  \} \textcolor{keywordflow}{else} \{
    Serial.println(\textcolor{stringliteral}{"Connection to WiFi network failed"});
  \}
\}
\end{DoxyCode}
 

Implemented in \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_e_s_p8266_wi_fi_communicator_a58cc439be2f368b346bbbe1601a9b675}{athome\+::communication\+::wifi\+::\+E\+S\+P8266\+Wi\+Fi\+Communicator}}, and \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_native_arduino_e_s_p_wi_fi_communicator_abc07f2d953fa91f86b8919858e10bbd7}{athome\+::communication\+::wifi\+::\+Native\+Arduino\+E\+S\+P\+Wi\+Fi\+Communicator}}.

\mbox{\Hypertarget{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a6131240ac0daa0f9fb4d46871feea4c2}\label{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a6131240ac0daa0f9fb4d46871feea4c2}} 
\index{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator@{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator}!disconnect@{disconnect}}
\index{disconnect@{disconnect}!athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator@{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator}}
\subsubsection{\texorpdfstring{disconnect()}{disconnect()}}
{\footnotesize\ttfamily virtual int athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator\+::disconnect (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}

Virtual method used to implement disconnection of the current Wi\+Fi network through the adapter.

A return value of 0 is expected to indicate success, otherwise all other values are available for error codes.

Usage is as simple as this\+:


\begin{DoxyCode}
\textcolor{preprocessor}{#include <AWiFiCommunicator.hpp>}

\textcolor{keyword}{using} \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator}{athome::communication::wifi::AWiFiCommunicator}};

\textcolor{keywordtype}{void} my\_function\_disconnecting\_wifi\_adapters(AWiFiCommuncator &wifi) \{
  \textcolor{keywordflow}{if} (!wifi.disconnect()) \{
    Serial.println(\textcolor{stringliteral}{"Successfully disconnected from WiFi network"});
  \} \textcolor{keywordflow}{else} \{
    Serial.println(\textcolor{stringliteral}{"Failed to disconnect from WiFi network"}); \textcolor{comment}{// Is that really possible? In case we're
       stuck, it's a problem where the "have you tried turning it off and on again?" rocks ;)}
\}
\end{DoxyCode}
 

Implemented in \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_e_s_p8266_wi_fi_communicator_a7e53e10b858aebc5e7c6c0ea6007f84a}{athome\+::communication\+::wifi\+::\+E\+S\+P8266\+Wi\+Fi\+Communicator}}, and \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_native_arduino_e_s_p_wi_fi_communicator_a3787e850d48d149ee1392ebfb2920bb3}{athome\+::communication\+::wifi\+::\+Native\+Arduino\+E\+S\+P\+Wi\+Fi\+Communicator}}.

\mbox{\Hypertarget{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_abef86486512e4a39d61df3b27effcc87}\label{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_abef86486512e4a39d61df3b27effcc87}} 
\index{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator@{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator}!get\+Access\+Point@{get\+Access\+Point}}
\index{get\+Access\+Point@{get\+Access\+Point}!athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator@{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator}}
\subsubsection{\texorpdfstring{get\+Access\+Point()}{getAccessPoint()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{structathome_1_1communication_1_1wifi_1_1s__wifi__access__point}{Wi\+Fi\+\_\+ap}} \& athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator\+::get\+Access\+Point (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Method returning a reference on the current configured access point into the instance of \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator}{A\+Wi\+Fi\+Communicator}}.

See athome\+::communication\+::wifi\+::\+Wi\+Fi\+\_\+ap for more information on the content of this structure.

Example\+:


\begin{DoxyCode}
\textcolor{preprocessor}{#include <AtHome.h>}

\textcolor{keyword}{using} \mbox{\hyperlink{structathome_1_1communication_1_1wifi_1_1s__wifi__access__point}{athome::communication::wifi::WiFi\_ap}};
\textcolor{keyword}{using} \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator}{athome::communication::wifi::AWiFiCommunicator}};

\textcolor{keywordtype}{void} my\_function\_printing\_current\_access\_point\_info(\textcolor{keyword}{const} \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a0098148fe8d0eeee99b7f8f72a72a900}{AWiFiCommunicator}} &wifi) \{
  \textcolor{keyword}{const} WiFi\_ap &access\_point = wifi.getAccessPoint;
  Serial.print(\textcolor{stringliteral}{"Network name: "});
  Serial.println(access\_point.ssid);
  Serial.print(\textcolor{stringliteral}{"Password: "});
  Serial.println(access\_point.password);
\}
\end{DoxyCode}
 \mbox{\Hypertarget{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_afcc41f462a12c8348148c915dcafd1a0}\label{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_afcc41f462a12c8348148c915dcafd1a0}} 
\index{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator@{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator}!get\+Connection\+Addresses@{get\+Connection\+Addresses}}
\index{get\+Connection\+Addresses@{get\+Connection\+Addresses}!athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator@{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator}}
\subsubsection{\texorpdfstring{get\+Connection\+Addresses()}{getConnectionAddresses()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{structathome_1_1communication_1_1wifi_1_1s__wifi__client}{Wi\+Fi\+\_\+client}} \& athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator\+::get\+Connection\+Addresses (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Method returning a reference on the current (or last if the module is currently disconnected) IP and M\+AC addresses of this instance of \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator}{A\+Wi\+Fi\+Communicator}}.

See athome\+::communication\+::wifi\+::\+Wi\+Fi\+\_\+client for more information on the content of this structure.

Example\+:


\begin{DoxyCode}
\textcolor{preprocessor}{#include <stdio.h>}
\textcolor{preprocessor}{#include <AtHome.h>}

\textcolor{keyword}{using} \mbox{\hyperlink{structathome_1_1communication_1_1wifi_1_1s__wifi__client}{athome::communication::wifi::WiFi\_client}};
\textcolor{keyword}{using} \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator}{athome::communication::wifi::AWiFiCommunicator}};

\textcolor{keywordtype}{void} my\_function\_printing\_current\_ip\_and\_mac\_addresses(\textcolor{keyword}{const} \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a0098148fe8d0eeee99b7f8f72a72a900}{AWiFiCommunicator}} &wifi) \{
  \textcolor{keyword}{const} WiFi\_client &addresses = wifi.getConnectionAddresses();
  \textcolor{keywordtype}{char} my\_ipv4[16];
  \textcolor{keywordtype}{char} my\_mac[18];
  snprintf(my\_ipv4, 16, \textcolor{stringliteral}{"%hhu.%hhu.%hhu.%hhu"}, addresses.ipv4[0], addresses.ipv4[1], addresses.ipv4[2], 
      addresses.ipv4[3]);
  \textcolor{comment}{// Note: For MAC address conversion, if you're compiler is broken and doesn't promote char's to int, see
       this StackOverflow for fix:}
  \textcolor{comment}{// https://stackoverflow.com/questions/12344814/how-to-print-unsigned-char-as-2-digit-hex-value-in-c}
  snprintf(my\_mac, 18, \textcolor{stringliteral}{"%02x-%02x-%02x-%02x-%02x-%02x"},
           addresses.mac[0], addresses.mac[1], addresses.mac[2], addresses.mac[3], addresses.mac[4], 
      addresses.mac[5]);
  Serial.print(\textcolor{stringliteral}{"IPv4: "});
  Serial.println(my\_ipv4);
  Serial.print(\textcolor{stringliteral}{"MAC: "});
  Serial.println(my\_mac);
\}
\end{DoxyCode}
 \mbox{\Hypertarget{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_adebc335ea6408a90919f396f06260b13}\label{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_adebc335ea6408a90919f396f06260b13}} 
\index{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator@{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator}!get\+Wi\+Fi\+Mode@{get\+Wi\+Fi\+Mode}}
\index{get\+Wi\+Fi\+Mode@{get\+Wi\+Fi\+Mode}!athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator@{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator}}
\subsubsection{\texorpdfstring{get\+Wi\+Fi\+Mode()}{getWiFiMode()}}
{\footnotesize\ttfamily wifi\+\_\+mode athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator\+::get\+Wi\+Fi\+Mode (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Method returning a value of athome\+::communication\+::ip\+::wifi\+\_\+mode enumeration, being S\+T\+A\+T\+I\+ON if the adapter connects to a Wi\+Fi network, or A\+C\+C\+E\+S\+S\+\_\+\+P\+O\+I\+NT if it creates one.

See athome\+::communication\+::ip\+::wifi\+\_\+mode for more information about this enumeration.

Example\+:


\begin{DoxyCode}
\textcolor{preprocessor}{#include <AtHome.h>}

\textcolor{keyword}{using} athome::communication::wifi::wifi\_mode;
\textcolor{keyword}{using} \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator}{athome::communication::wifi::AWiFiCommunicator}};

\textcolor{keywordtype}{void} my\_function\_printing\_current\_wifi\_mode(\textcolor{keyword}{const} \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a0098148fe8d0eeee99b7f8f72a72a900}{AWiFiCommunicator}} &wifi) \{
  wifi\_mode mode = wifi.getWiFiMode();
  \textcolor{keywordflow}{switch} (mode) \{
    \textcolor{keywordflow}{case} wifi\_mode::STATION:
      Serial.println(\textcolor{stringliteral}{"The WiFi adapter connects to a Wireless network"});
      \textcolor{keywordflow}{break};
    \textcolor{keywordflow}{case} wifi\_mode::ACCESS\_POINT:
      Serial.println(\textcolor{stringliteral}{"The WiFi adapter creates a new Access Point (network)"});
      \textcolor{keywordflow}{break};
    \textcolor{keywordflow}{default}:
      Serial.println(\textcolor{stringliteral}{"The WiFi adapter use a less common mode. See athome::communication::ip::wifi\_mode for
       more information"});
      Serial.println(mode);
      \textcolor{keywordflow}{break};
  \}
\}
\end{DoxyCode}
 \mbox{\Hypertarget{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a578087d01c814481d89ea702a6d7ed01}\label{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a578087d01c814481d89ea702a6d7ed01}} 
\index{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator@{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator}!is\+Connected@{is\+Connected}}
\index{is\+Connected@{is\+Connected}!athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator@{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator}}
\subsubsection{\texorpdfstring{is\+Connected()}{isConnected()}}
{\footnotesize\ttfamily virtual bool athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator\+::is\+Connected (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}

Virtual method to know if the adapter is connected to a Wi\+Fi network.

Return true if the adapter is connected, otherwise return false;

Example\+:


\begin{DoxyCode}
\textcolor{preprocessor}{#include <AWiFiCommunicator.hpp>}

\textcolor{keyword}{using} \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator}{athome::communication::wifi::AWiFiCommunicator}};

\textcolor{keywordtype}{void} my\_function\_printing\_if\_adapter\_is\_connected\_to\_network\_or\_not(\textcolor{keyword}{const} 
      \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a0098148fe8d0eeee99b7f8f72a72a900}{AWiFiCommunicator}} &wifi) \{
  Serial.println((wifi.isConnected) ? \textcolor{stringliteral}{"Adapter is connected to WiFi network"} : \textcolor{stringliteral}{"Adapter isn't connected to
       WiFi network"});
\}
\end{DoxyCode}
 

Implemented in \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_e_s_p8266_wi_fi_communicator_aefadac9b1a67d52853495dfabecad5fd}{athome\+::communication\+::wifi\+::\+E\+S\+P8266\+Wi\+Fi\+Communicator}}, and \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_native_arduino_e_s_p_wi_fi_communicator_a1ad428f03137d93a142ec5ae72f19e14}{athome\+::communication\+::wifi\+::\+Native\+Arduino\+E\+S\+P\+Wi\+Fi\+Communicator}}.

\mbox{\Hypertarget{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a2b802d934022436e029fc31b3e84d321}\label{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a2b802d934022436e029fc31b3e84d321}} 
\index{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator@{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator}!set\+Access\+Point@{set\+Access\+Point}}
\index{set\+Access\+Point@{set\+Access\+Point}!athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator@{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator}}
\subsubsection{\texorpdfstring{set\+Access\+Point()}{setAccessPoint()}}
{\footnotesize\ttfamily void athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator\+::set\+Access\+Point (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structathome_1_1communication_1_1wifi_1_1s__wifi__access__point}{Wi\+Fi\+\_\+ap}} \&}]{ap }\end{DoxyParamCaption})}

Method setting the new access point parameters (to connect or create, depending on adapter mode).

Calling this method will disconnect the adapter from current network to update adapter configuration, but will not reconnect it automatically.

A call to \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a309927109fbc19aa0fb2afb71d50bbf9}{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator\+::connect}} is required to connect to the new network after calling this method.

Example\+:


\begin{DoxyCode}
\textcolor{preprocessor}{#include <string.h>}
\textcolor{preprocessor}{#include <AtHome.h>}

\textcolor{keyword}{using} \mbox{\hyperlink{structathome_1_1communication_1_1wifi_1_1s__wifi__access__point}{athome::communication::wifi::WiFi\_ap}};

\textcolor{comment}{// ESP8266WiFiCommunicator is an implementation of AWiFiCommunicator for ESP8266 using default AT firmware}
\textcolor{comment}{// Note: using global variables is normally a dirty way of doing this,}
\textcolor{comment}{// but on Arduino it will allow you to see at compile time how much RAM is used by this part of your sketch
       before moving it in a function}
ESP8266WiFiCommunicator wifi(2, 3); \textcolor{comment}{// ESP8266WiFiCommunicator need to know on which pins of the board are
       connected the CH\_PD and RST pins of the ESP8266}
WiFi\_ap my\_network;

\textcolor{keywordtype}{void} setup() \{
  \textcolor{comment}{// We're opening the Stream used to communicate with the adapter}
  Serial.begin(115200);
  \textcolor{comment}{// We set the Stream used to communicate with the adapter}
  wifi.setStreamToChipset(&Serial);
  \textcolor{comment}{// We're configuring our WiFi adapter to connect to a network called "foobar" with the password
       "12345678"}
  strncpy(my\_network.ssid, \textcolor{stringliteral}{"foobar"}, \textcolor{keyword}{sizeof}(my\_network.ssid));
  strncpy(my\_network.password, \textcolor{stringliteral}{"12345678"}, \textcolor{keyword}{sizeof}(my\_network.password));
  wifi.setAccessPoint(my\_network);
  wifi.connect(); \textcolor{comment}{// You need to call this method for the adapter to actually connect to the new network}
\}

\textcolor{keywordtype}{void} loop() \{
\}
\end{DoxyCode}
 \mbox{\Hypertarget{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a31fb91672f298718d99bb9776dfe46c9}\label{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a31fb91672f298718d99bb9776dfe46c9}} 
\index{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator@{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator}!set\+Connection\+Addresses@{set\+Connection\+Addresses}}
\index{set\+Connection\+Addresses@{set\+Connection\+Addresses}!athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator@{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator}}
\subsubsection{\texorpdfstring{set\+Connection\+Addresses()}{setConnectionAddresses()}}
{\footnotesize\ttfamily void athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator\+::set\+Connection\+Addresses (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structathome_1_1communication_1_1wifi_1_1s__wifi__client}{Wi\+Fi\+\_\+client}} \&}]{client }\end{DoxyParamCaption})}

Method setting addresses used by the Wi\+Fi network if a static IP is assigned to your adapter.

Do not use this method if your adapter has its IP address through D\+H\+C\+P!

If you\textquotesingle{}re not sure about how your Wi\+Fi network is configured, don\textquotesingle{}t use this method. Most of Wi\+Fi networks attributes IP addresses to devices automatically through D\+H\+CP.

See athome\+::communication\+::wifi\+::\+Wi\+Fi\+\_\+client for more information on the content of this structure.

Example\+:


\begin{DoxyCode}
\textcolor{preprocessor}{#include <AtHome.h>}

\textcolor{keyword}{using} \mbox{\hyperlink{structathome_1_1communication_1_1wifi_1_1s__wifi__client}{athome::communication::wifi::WiFi\_client}};

ESP8266WiFiCommunicator wifi(2, 3); \textcolor{comment}{// ESP8266WiFiCommunicator need to know on which pins of the board are
       connected the CH\_PD and RST pins of the ESP8266}
WiFi\_client addresses = \{\{0x5C, 0xCF, 0x7F, 0x00, 0x00, 0x00\}, \{127, 0, 0, 1\}\}; \textcolor{comment}{// Users of this method
       should know why setting this IP address will be pretty useless}

\textcolor{keywordtype}{void} setup() \{
  \textcolor{comment}{// We're opening the Stream used to communicate with the adapter}
  Serial.begin(115200);
  \textcolor{comment}{// We set the Stream used to communicate with the adapter}
  wifi.setStreamToChipset(&Serial);
  ESP8266WiFiCommunicator.setConnectionAddresses();
  ESP8266WiFiCommunicator.connect(); \textcolor{comment}{// You need to call it, even if you were previously already connected
       to a WiFi network as calling the setConnectionAddresses method will disconnect you from any current network}
\}

\textcolor{keywordtype}{void} loop() \{
\}
\end{DoxyCode}
 \mbox{\Hypertarget{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a42f2ad88713db57bd9e9670f090924de}\label{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a42f2ad88713db57bd9e9670f090924de}} 
\index{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator@{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator}!set\+Stream\+To\+Chipset@{set\+Stream\+To\+Chipset}}
\index{set\+Stream\+To\+Chipset@{set\+Stream\+To\+Chipset}!athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator@{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator}}
\subsubsection{\texorpdfstring{set\+Stream\+To\+Chipset()}{setStreamToChipset()}}
{\footnotesize\ttfamily void athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator\+::set\+Stream\+To\+Chipset (\begin{DoxyParamCaption}\item[{Stream $\ast$}]{stream }\end{DoxyParamCaption})}

Method used to set the Stream used to communicate with the Wi\+Fi adapter (for example Serial on Arduino) by passing a pointer on it.

A {\ttfamily nullptr} value will just indicate the instance of this class doesn\textquotesingle{}t have a user defined Stream to communicate with the adapter.

Example for an E\+S\+P8266 connected to the serial port of an Arduino (pins 0 and 1)\+:


\begin{DoxyCode}
\textcolor{preprocessor}{#include <AtHome.h>}

ESP8266WiFiCommunicator wifi(2, 3);

\textcolor{keywordtype}{void} setup() \{
  \textcolor{comment}{// We initialize the Stream so that the instance is able to use it. Here we start a serial connection at
       115200 bauds:}
  Serial.begin(115200);
  \textcolor{comment}{// We set the stream used to communicate with the ESP8266 adapter:}
  wifi.setStreamToChipset(&Serial);
\}

\textcolor{keywordtype}{void} loop() \{
\}
\end{DoxyCode}
 \mbox{\Hypertarget{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a28538cf510da8b59056b2533a6e53bcc}\label{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a28538cf510da8b59056b2533a6e53bcc}} 
\index{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator@{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator}!set\+Wi\+Fi\+Mode@{set\+Wi\+Fi\+Mode}}
\index{set\+Wi\+Fi\+Mode@{set\+Wi\+Fi\+Mode}!athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator@{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator}}
\subsubsection{\texorpdfstring{set\+Wi\+Fi\+Mode()}{setWiFiMode()}}
{\footnotesize\ttfamily void athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator\+::set\+Wi\+Fi\+Mode (\begin{DoxyParamCaption}\item[{wifi\+\_\+mode}]{mode }\end{DoxyParamCaption})}

Method used to define if the Wi\+Fi adapter is used to connect to an existing network, or to create a new access point.

Note\+: this method will not call automatically the \mbox{\hyperlink{classathome_1_1communication_1_1wifi_1_1_a_wi_fi_communicator_a309927109fbc19aa0fb2afb71d50bbf9}{athome\+::communication\+::wifi\+::\+A\+Wi\+Fi\+Communicator\+::connect}} method to create or to connect to the set up network.

See athome\+::communication\+::wifi\+::wifi\+\_\+mode for more information about values of this enumeration.

Example to create a new access point named \char`\"{}foobar\char`\"{} protected by the password \char`\"{}12345678\char`\"{}\+:


\begin{DoxyCode}
\textcolor{preprocessor}{#include <string.h>}
\textcolor{preprocessor}{#include <AtHome.h>}

\textcolor{keyword}{using} \mbox{\hyperlink{structathome_1_1communication_1_1wifi_1_1s__wifi__access__point}{athome::communication::wifi::WiFi\_ap}};
\textcolor{keyword}{using} athome::communication::wifi::wifi\_mode;

ESP8266WiFiCommunicator wifi(2, 3); \textcolor{comment}{// ESP8266WiFiCommunicator need to know on which pins of the board are
       connected the CH\_PD and RST pins of the ESP8266}
WiFi\_ap ap;

\textcolor{keywordtype}{void} setup() \{
  \textcolor{comment}{// We're opening the Stream used to communicate with the adapter}
  Serial.begin(115200);
  \textcolor{comment}{// We set the Stream used to communicate with the adapter}
  wifi.setStreamToChipset(&Serial);
  \textcolor{comment}{// We set the parameters to define the network we want to create:}
  strncpy(ap.ssid, \textcolor{stringliteral}{"foobar"}, \textcolor{keyword}{sizeof}(ap.ssid));
  strncpy(ap.password, \textcolor{stringliteral}{"12345678"}, \textcolor{keyword}{sizeof}(ap.password));
  wifi.setAccessPoint(ap);
  wifi.setWiFiMode(wifi\_mode::ACCESS\_POINT);
  \textcolor{comment}{// Create the access point:}
  wifi.connect();
\}

\textcolor{keywordtype}{void} loop() \{
\}
\end{DoxyCode}


Example to connect to an existing network called \char`\"{}foobar\char`\"{} protected by the password \char`\"{}12345678\char`\"{}\+:


\begin{DoxyCode}
\textcolor{preprocessor}{#include <string.h>}
\textcolor{preprocessor}{#include <AtHome.h>}

\textcolor{keyword}{using} \mbox{\hyperlink{structathome_1_1communication_1_1wifi_1_1s__wifi__access__point}{athome::communication::wifi::WiFi\_ap}};
\textcolor{keyword}{using} athome::communication::wifi::wifi\_mode;

ESP8266WiFiCommunicator wifi(2, 3); \textcolor{comment}{// ESP8266WiFiCommunicator need to know on which pins of the board are
       connected the CH\_PD and RST pins of the ESP8266}
WiFi\_ap ap;

\textcolor{keywordtype}{void} setup() \{
  \textcolor{comment}{// We're opening the Stream used to communicate with the adapter}
  Serial.begin(115200);
  \textcolor{comment}{// We set the Stream used to communicate with the adapter}
  wifi.setStreamToChipset(&Serial);
  \textcolor{comment}{// We set the parameters to define the network we want to connect to:}
  strncpy(ap.ssid, \textcolor{stringliteral}{"foobar"}, \textcolor{keyword}{sizeof}(ap.ssid));
  strncpy(ap.password, \textcolor{stringliteral}{"12345678"}, \textcolor{keyword}{sizeof}(ap.password));
  wifi.setAccessPoint(ap);
  wifi.setWiFiMode(wifi\_mode::STATION);
  \textcolor{comment}{// Connect to the network:}
  wifi.connect();
\}

\textcolor{keywordtype}{void} loop() \{
\}
\end{DoxyCode}
 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/A\+Wi\+Fi\+Communicator.\+hpp\item 
src/communication/network/wifi/A\+Wi\+Fi\+Communicator.\+cpp\end{DoxyCompactItemize}
