This repository holds the source code of the At\+Home Development Kit (Framework + examples + P\+C\+Bs and schematics).

Development documentation is available at \href{https://woodbox.gitlab.io/Framework}{\tt https\+://woodbox.\+gitlab.\+io/\+Framework}

\subsection*{What is At\+Home?}

At\+Home is a set of smart devices enabling to monitor a house\textquotesingle{}s environment and the possible effects on human health. A smartphone application communicating with sensing devices put into the house, enable the user to get advices, tips and solutions to potential problems, and to communicate with other members of At\+Home community, to be able to live better at home.

\subsection*{Installation and requirements to use this kit\+:}

This development kit requires some external libraries to be present on your environment. If you use Arduino, just download these into your \char`\"{}libraries\char`\"{} folder into your \char`\"{}\+Arduino\char`\"{} directory.

In the same way, to use this development kit, just download this repository in your \char`\"{}libraries\char`\"{} folder. Once all libraries are downloaded, just open the \char`\"{}\+Library manager\char`\"{} in the Arduino I\+DE for it to update your libraries list.

Usual locations of Arduino directory\+:
\begin{DoxyItemize}
\item Windows\+: Documents
\item Linux\+: $\sim$/\+Arduino (ie, in your home folder)
\item OS X\+: $\sim$/\+Arduino (ie, in your home folder)
\end{DoxyItemize}

Required libraries\+:
\begin{DoxyItemize}
\item Partial Arduino Core implementing interfaces Print, Printable and Stream -\/$>$ Used for generic interfaces and avoid duplicates between Arduino and non-\/\+Arduino projects
\item Task\+Scheduler library\+: \href{https://github.com/arkhipenko/TaskScheduler}{\tt https\+://github.\+com/arkhipenko/\+Task\+Scheduler}
\end{DoxyItemize}

Optional libraries\+:
\begin{DoxyItemize}
\item Grove Light\+Sensor library\+: \href{https://github.com/Seeed-Studio/Grove_Digital_Light_Sensor}{\tt https\+://github.\+com/\+Seeed-\/\+Studio/\+Grove\+\_\+\+Digital\+\_\+\+Light\+\_\+\+Sensor} (if using Grove Digital Light Sensor)
\item Grove Chainable\+L\+ED library\+: \href{https://github.com/Seeed-Studio/Grove_Chainable_RGB_LED}{\tt https\+://github.\+com/\+Seeed-\/\+Studio/\+Grove\+\_\+\+Chainable\+\_\+\+R\+G\+B\+\_\+\+L\+ED} (if using Grove Chainable L\+E\+Ds)
\item Adafruit Neo\+Pixel library\+: \href{https://github.com/adafruit/Adafruit_NeoPixel}{\tt https\+://github.\+com/adafruit/\+Adafruit\+\_\+\+Neo\+Pixel} (if using Neo\+Pixel)
\end{DoxyItemize}

Recommended microcontroler platform\+:
\begin{DoxyItemize}
\item M\+CU compatible with Arduino core (either 8/16/32bits)
\item C++11 compiler support
\item Internal persistent storage (F\+R\+AM is better, E\+E\+P\+R\+OM other way)
\item Internal R\+TC
\item At least 32\+KB of program memory (Warning\+: not counting bootloader size, some chips such as Microchip P\+I\+C32\+MX or Espressif E\+S\+P8265/8266/32 will require much more program memory)
\item At least 2\+KB of R\+AM
\end{DoxyItemize}

Requirements can be reduced depending on components used and by tweaking the framework configuration. See \mbox{\hyperlink{_at_home_config_8h_source}{At\+Home\+Config.\+h}} to disable unused features.

\subsection*{Compatible environments\+:}

Here is the satatus of compatibility of this development kit with several commonly used environments\+:

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{6}{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}\textbf{ Environment  }&\textbf{ Arduino  }&\textbf{ Energia  }&\textbf{ Mbed  }&\textbf{ Bare-\/\+Metal  }&\textbf{ Platform\+IO   }\\\cline{1-6}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\textbf{ Environment  }&\textbf{ Arduino  }&\textbf{ Energia  }&\textbf{ Mbed  }&\textbf{ Bare-\/\+Metal  }&\textbf{ Platform\+IO   }\\\cline{1-6}
\endhead
Support  &Y  &Y  &Not yet (not tested and need C++14 support in incoming release)  &Not yet  &Y (not tested)   \\\cline{1-6}
\end{longtabu}


\subsection*{Compatible architectures\+:}

Here is the status of compatibility of components available in this development kit with several common architectures of microcontrollers\+:

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{9}{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}\textbf{ Component / Platform  }&\textbf{ A\+VR  }&\textbf{ A\+RM  }&\textbf{ M\+S\+P430  }&\textbf{ M\+S\+P432  }&\textbf{ P\+I\+C32  }&\textbf{ P\+I\+C18  }&\textbf{ E\+S\+P8266  }&\textbf{ E\+S\+P32   }\\\cline{1-9}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\textbf{ Component / Platform  }&\textbf{ A\+VR  }&\textbf{ A\+RM  }&\textbf{ M\+S\+P430  }&\textbf{ M\+S\+P432  }&\textbf{ P\+I\+C32  }&\textbf{ P\+I\+C18  }&\textbf{ E\+S\+P8266  }&\textbf{ E\+S\+P32   }\\\cline{1-9}
\endhead
At\+Home Core  &Y  &Y (not tested)  &Y  &Y  &Y (not tested)  &?  &Y  &?   \\\cline{1-9}
At\+Home Wi\+Fi Module  &Y  &Y (not tested)  &N  &Y  &Y  &?  &?  &?   \\\cline{1-9}
E\+S\+P8266 AT Firmware  &Y (not tested)  &Y (not tested)  &N  &Y  &Y (not tested)  &?  &N/A  &?   \\\cline{1-9}
Grove Chainable L\+ED  &Y  &Y (not tested)  &Y (not tested, need a small patch but I\textquotesingle{}m unable to check as I don\textquotesingle{}t have one)  &Y (not tested)  &Y (not tested)  &?  &?  &?   \\\cline{1-9}
Analog\+Sensor  &Y (not tested)  &Y (not tested)  &Y (not tested)  &Y  &Y (not tested)  &?  &Y  &?   \\\cline{1-9}
Arduino\+E\+E\+P\+R\+OM  &Y  &N  &N  &N  &N  &?  &?  &?   \\\cline{1-9}
Common cathode R\+GB L\+ED  &Y (not tested)  &Y (not tested)  &Y (not tested)  &Y  &Y (not tested)  &?  &Y  &?   \\\cline{1-9}
Common anode R\+GB L\+ED  &Y (not tested)  &Y (not tested)  &Y (not tested)  &Y (not tested)  &Y (not tested)  &?  &Y  &?   \\\cline{1-9}
Grove Air Quality sensor  &N  &N  &N  &N  &?  &?  &?  &?   \\\cline{1-9}
Grove Light Sensor  &Y  &Y  &N  &N  &?  &?  &?  &?   \\\cline{1-9}
M\+Q2 Gas sensor  &Y  &Y  &Y  &Y  &?  &?  &?  &?   \\\cline{1-9}
Neo\+Pixel  &Y  &Y (not all, not tested)  &N  &N  &N  &?  &?  &?   \\\cline{1-9}
Binary Sound Sensor  &Y  &Y  &Y  &Y  &Y  &?  &?  &?   \\\cline{1-9}
Dummy Sensor  &Y  &Y  &Y  &Y  &Y  &?  &?  &?   \\\cline{1-9}
Monochromatic L\+ED  &Y  &Y  &Y  &Y  &Y  &?  &?  &?   \\\cline{1-9}
P\+WM L\+ED  &Y  &Y  &Y  &Y  &Y  &?  &?  &?   \\\cline{1-9}
Thermistor  &Y  &Y  &Y  &Y  &Y  &?  &?  &?   \\\cline{1-9}
M\+S\+P430\+F\+R\+AM  &N  &N  &Y  &N  &N  &N  &N  &N   \\\cline{1-9}
Blynk (NI)  &N/A  &N/A  &N/A  &N/A  &N/A  &N/A  &N/A  &N/A   \\\cline{1-9}
Photoresistor (Not ready)  &Y  &Y  &Y  &Y  &Y  &?  &?  &?   \\\cline{1-9}
Fake\+R\+TC  &Y  &Y  &Y  &Y  &Y  &N  &?  &?   \\\cline{1-9}
D\+S1307 (Not ready)  &Y  &?  &?  &?  &?  &?  &?  &?   \\\cline{1-9}
\end{longtabu}


\subsection*{Low Power Mode}

For battery powered modules, here is the list of low power operation mode on several architectures and environment\+:

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{9}{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}\textbf{ Environment / Architecture  }&\textbf{ A\+VR  }&\textbf{ A\+RM  }&\textbf{ M\+S\+P430  }&\textbf{ M\+S\+P432  }&\textbf{ P\+I\+C32  }&\textbf{ P\+I\+C18  }&\textbf{ E\+S\+P8266  }&\textbf{ E\+S\+P32   }\\\cline{1-9}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\textbf{ Environment / Architecture  }&\textbf{ A\+VR  }&\textbf{ A\+RM  }&\textbf{ M\+S\+P430  }&\textbf{ M\+S\+P432  }&\textbf{ P\+I\+C32  }&\textbf{ P\+I\+C18  }&\textbf{ E\+S\+P8266  }&\textbf{ E\+S\+P32   }\\\cline{1-9}
\endhead
Arduino (and Energia)  &Y  &N  &Not all  &Y  &N  &N  &Y  &N   \\\cline{1-9}
Mbed  &N/A  &Y  &N/A  &N/A  &N/A  &N/A  &N/A  &N/A   \\\cline{1-9}
Bare-\/\+Metal  &N  &N  &N  &N  &N  &N  &N  &N   \\\cline{1-9}
\end{longtabu}


\subsection*{Secured communication \mbox{[}W\+IP\mbox{]}}

Status of secured communication between modules and their server (the At\+Home when the set is built by the At\+Home team)\+:

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{4}{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}\textbf{ Platform / Environment  }&\textbf{ Arduino  }&\textbf{ Mbed  }&\textbf{ Bare-\/\+Metal   }\\\cline{1-4}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\textbf{ Platform / Environment  }&\textbf{ Arduino  }&\textbf{ Mbed  }&\textbf{ Bare-\/\+Metal   }\\\cline{1-4}
\endhead
A\+VR  &N  &N/A  &N   \\\cline{1-4}
A\+RM  &N  &N  &N   \\\cline{1-4}
M\+S\+P430  &N  &N/A  &N   \\\cline{1-4}
M\+S\+P432  &N  &N/A  &N   \\\cline{1-4}
P\+I\+C32  &N  &N/A  &N   \\\cline{1-4}
P\+I\+C18  &N  &N/A  &N   \\\cline{1-4}
E\+S\+P8266  &N  &N/A  &N   \\\cline{1-4}
E\+S\+P32  &N  &N/A  &N   \\\cline{1-4}
\end{longtabu}
